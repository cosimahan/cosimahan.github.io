<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="alternate" type="application/rss+xml" title="Cosima Han's" href="http://blog.cosimahan.com/atom.xml"><link rel="stylesheet" href="/styles.css"><title>Cosima Han's</title></head><body><div class="container"><div class="columns page-header"><h1>Cosima Han's</h1></div><div class="columns"><div class="navigation clearfix"><nav class="left"><a href="/">主页</a><a href="https://github.com/cosimahan">GitHub</a><a href="/about">关于</a><a href="/messageboard">留言板</a></nav><nav class="right"><a href="/atom.xml">RSS</a></nav></div></div><div class="columns"><div class="block-body column three-fourths"><article><header><h2><a href="/阿里三轮面试的失败的记录.html">阿里三轮面试的失败的记录</a></h2></header><div class="article-meta clearfix"><time class="left">2018-03-22</time><ul class="tags left"></ul><ul class="tags right"></ul></div><div class="markdown-body"><h2 id="一面">一面</h2><p>一面是电话面试，首先是自我介绍，介绍自己大概情况，我简单介绍了一下，自己大四要毕业了，考研没考上。<br>然后介绍下简历中写到的项目，问的比较细，比方说多用户是怎么实现？答曰用json封装好数据，里面包含用户信息；<br>为什么用socket而不是用做一个web界面，答曰因为自己用做一个也没啥意义；<br>又问如果项目做大的话还有哪些方面要注意，如何解决高并发？我想了想说增加服务器配置，部署在多个服务器上实现分布式，改进代码等，也不知道靠不靠谱。<br>下面闲聊了几句，期望工作地点是哪，喜欢用什么语言，哪个更熟悉等。工作地点嘛只要是大城市就好，语言我也不挑（因为都学的不精啊）。<br>下面又是介绍另一个项目，为什么要做，做得比别人哪儿更好，实时视频传输用的什么开源项目，是否给该开源项目做了贡献。贡献还真有，当时那文档写错了我给改过来了，提交了个PR，被合并了。<br>接下来又是闲聊，介绍自己的优点，有什么爱好，最近关注什么。我说最近比较关注电动汽车，然后又聊了几句。<br>下面是问我个人在技术方面有什么优势，我回答说学东西比较快，并举了个例子，当年Python一个小时上手，没想到这里给自己挖了个坑，接下来问我Python相比C++和Java有啥理念比较突出的，我就答不上来了。<br>C++用的多吗，用过哪些类库？我回答栈队列、map、set，其使用的也不多，<br>在项目中遇到过什么困难，又是怎么解决的？我当时做项目还真踩了几个坑，mjpg-stream的文档有一处错的地方，当时没办法了看源码才找到问题，clone了一遍给他改对，又提交了个PR，被合并了，还被点了个star。<br>还有什么困难吗，还有，当时树莓派PWM波输出的bug我也遇上过，当时外接了个模块才解决的。<br>还有什么困难吗，真还有，在调试socket通信的时候被缓冲区坑过，通过搜索引擎搜索解决的。<br>Linux用的多吗，vim会用吗，用过，但是不熟。正则表达式会吗？用过，但是不熟。<br>未来几年工作怎么打算，对自己有什么期望？提高技术水平，争取在大城市立足。<br>对语言有要求吗？没要求。愿意来北京工作吗？愿意。愿意来现场面试吗，当然愿意。<br>第一面面的比较愉快，因为问的是与项目相关的，并且都不难。</p>
<h2 id="二面">二面</h2><p>第二面就没这么轻松了，也是由于自己准备不充分导致的，感觉这次挂掉的大部分原因都在这里。<br>在西溪园区现场面的，面试官人很nice。中间有点记不清了，只对自己答不上来的和答得不好的印象比较深。<br>首先还是自我介绍，谈一谈对自己未来发展的计划，然后讲一下做过的项目，在讲的过程中问面向对象三大特征，我答不出来。<br>什么是多态，我举了C++中子类重写父类的虚函数的例子，当时表达不是很好，再加上面试官估计平时搞C++不如java多，说我这是继承不是多态。<br>Linux里怎么看发行版？当时忘了，毕竟不常用，在回去的路上想起来了，是uname -a。<br>Linux里怎么看磁盘分区情况？当时也忘了，猜了个fdisk，结果猜错了，正确答案是df。<br>怎么做ssh免登陆？我没理解这个是实现证书登陆的意思，回答了不知道。平时只用用户名密码登陆吗？也用证书。证书怎么配置？生成公钥和私钥，私钥自己留着，公钥放服务器里，再改ssh的配置文件就好了。<br>怎么看IP地址？我又把Windows的ipconfig和Linux的ifconfig搞混了，熟练度不够的锅。<br>http和https哪个好？那当然是https好，为什么？因为有加密，https在http上封装了一层，不能被截获和篡改。不能截获吗？其实能，不过得到的是加密过的，不容易得到里面的东西。什么情况下会得到？服务器私钥泄露了。<br>给你一个项目，要怎么样去做，怎么样算做好，感觉这里答得也不算好，团队协作刚开始没想起来，经过提示才加了上去。<br>你有什么要问我的？blablabla。<br>就这样，结束了二面。</p>
<h2 id="三面">三面</h2><p>三面是电话面试，比较开门见山，简单介绍之后就问那个编程语言比较熟，我选了C。<br>C语言里的堆和栈怎么理解？堆是new出东西放的地方，栈是程序互相调用传参的地方，还举了个例子，递归太多会爆栈。<br>printf函数如果得到的参数只有”%s”,后面没有给字符串，会怎么样。会输出一块未知的内存区域。<br>为什么会这样，因为没给字符串的地址。<br>会有什么结果，这里把字符串地址当成0地址了，以为程序会崩溃，其实是随机地址，不一定会崩溃，答得不好。<br>再说点相关的，函数调用约定有没有印象？什么cdcall，fastcall？我不知道。<br>压参顺序知道吗？答曰从后往前，然后面试官给我讲了讲上个printf问题的原理。<br>long、int、short是占几位，我把long忘了，答平时要么用32位的int，要么64位的longlong。<br>如果print一个int，但是传入的是long long，会怎么样？会把longlong的一半当int输出。<br>print %d和%s，但是传入的是一个longlong和一个字符串首地址，会怎么样？我回答说后面的字符串输出不受影响，其实是longlong的后面32位被当做了字符串的首地址。然后面试官给我讲了讲这个问题的答案和原理。<br>acm比赛的内容是什么类型？给题意和数据，输出结果，blabla。<br>能写个strcpy吗，能啊，strcpy的参数是哪些，源地址、目标地址，长度（其实没有长度，经过提示才改过来）。具体怎么实现？开个内存区域拷就好了。<br>能让程序快一点吗，用memcpy，不用memcpy呢？呃呃每次考8个字节。<br>为什么你理解每次考8个字节要快？为什么一次非要8个字节？当时脑子不好使，大约把8个字符当longlong拷就刚好8个字节。<br>面试官又给我讲了讲这个问题的答案和原理，每次读总线宽度个bit，并且读的时候内存对其以提高cache的命中率，中间问了问编译器优化是在什么时候优化的？不知道。<br>如何获取当前设备每秒的吞吐量？呃能具体点么。了解现在内存的双通道吗，现在计算机处理能力的瓶颈是什么？CPU的处理速度主频，CPU和内存的通信速度，也就是外频。怎么测外频？我不知道。<br>知道机器的性能，如何使得程序的CPU占用率稳定在10%？在一个时间周期内执行一定数量的命令，数量到了就在这个时间周期内不再执行，具体实现的话，读内核时间，呃说不上来了。<br>面试官又给我讲了讲这个问题的答案和原理，大概意思和我想的差不多感觉。<br>在学计算机期间最有成就感的事情？中间我提到了一道算法题，结果给自己挖了个坑，说到后面卡壳了。<br>你有什么要问我的？blablabla。<br>嗯那好，保持通信畅通啊。<br>就这样，过了几天网站上显示已回绝。</p>
<h2 id="总结">总结</h2><p>现阶段的主要问题是：</p>
<ol>
<li>项目经验不足，只做过类似于玩具的项目；</li>
<li>没有一种比较深入的语言，接触到的东西都浅尝辄止。<br>尽快找到工作是解决这两个问题的办法。</li>
</ol>
</div></article><article><header><h2><a href="/简谈几种网站漏洞及其应对方式.html">简谈几种网站漏洞及其应对方式</a></h2></header><div class="article-meta clearfix"><time class="left">2016-10-25</time><ul class="tags left"></ul><ul class="tags right"></ul></div><div class="markdown-body"><h2 id="用户密码存储">用户密码存储</h2><p>现在的网站几乎不再使用明文密码存储的方式了，而是改用只在数据库中存储明文密码的 hash。常见的 hash 算法有 MD5 和 SHA，可以从任何一段字符串计算出一段固定长度的哈希 值。这样当用户输入密码时，直接将该密码代入算法得出 hash 值，再与存储的 hash 值对比，相同则允许登录。用户注册时也是直接存储密码的 hash 值，而不是明文密码。这样就防止数据库泄露的时候导致用户明文密码泄露。 但是随着计算能力大幅提高，MD5 和 SHA1 算法已经不再推荐使用了，这些算法被碰撞 的几率已经越来越大了。而应该采用加盐的方式，比如说 SHA256 加 salt 后 使用 PBKDF2 算法处理，该算法计算消耗的 CPU 时间非常多，能大大减慢暴力破解速度。</p>
<h2 id="XSS">XSS</h2><p>XSS 漏洞跨站脚本攻击是常见的漏洞。其原理是攻击者向有 XSS 漏洞的网站中传入恶意的 HTML 和 JavaScript 代码，当其它用户浏览该网站时，JS 代码会自动执行，从而达到攻击的目的。比如盗取用户 Cookie 等。 常见的应对方式有过滤危险的 JavaScript 和 HTML 属性、对HTML输出进行转义等。</p>
<h2 id="SQL_注入">SQL 注入</h2><p>SQL 注入攻击，也是 Web 开发中最常见的一种安全漏洞。可以用它来从数据库获取密码等信息，甚至有可能获取数据库等系统的 root 权限。造成 SQL 注入的原因是因为程序没有 有效过滤用户的输入，使攻击者成功的向服务器提交恶意的 SQL 查询代码，程序在接收后将攻击者的输入作为查询语句的一部分执行，导致原始的查询逻辑被改变，额外的执行了攻击者的代码。应对方式有输入过滤等。</p>
<h2 id="CSRF">CSRF</h2><p>CSRF可以伪造受信任用户的请求来利用受信任的网站。攻击者可以在第三方网站hacker.com 设置代码，用户在浏览这些网页的时候向 victim.com 跨域发送数据，浏览器根据同源策略，带上了 victim.com 的 cookies，导致请求被伪造，可能造成很大的危害，比如添加管理员、修改密码等。通常的应对方法有对特定请求增加token验证，token是在Cookies 中读取的，而根据同源策略，hacker.com 是无法读取 victim.com 的 Cookies 的，这样就无法伪造 token。后端服务器只要对比 Cookies 中的 token 和请求头中的 token 是否一致就可以了。</p>
</div></article><article><header><h2><a href="/简谈快充技术.html">简谈快充技术</a></h2></header><div class="article-meta clearfix"><time class="left">2016-09-18</time><ul class="tags left"></ul><ul class="tags right"></ul></div><div class="markdown-body"><p>以前移动设备的耗电量很小，电池容量也普遍不大。可如今电池一大再大，又不能让充电时间太长，于是便出现了增加电池充电速度的方法。<br>刚开始只是在USB接口提供电流的标准改改，从500mA一路增加到1500mA甚至2000mA。慢慢的2000mA也不够用了，如果电流再增加可能使Micro USB接口和数据线无法承受，于是厂家们就想了各种办法。<br>高通想了个提高电压的办法，将充电电压提高而电流不变从而增大功率，命名为Quick Charge 2.0（5V 2A就是QC1.0）。QC2.0方案可协商电压到5V、9V、12V、20V，而QC3.0则可在3.6V到20V之间以200mV增量为一档协商电压（A类方案不支持20V，通过D+和D-上的电压来协商）。<br>联发科也想了个差不多的办法，叫PUMP EXPRESS（PE，电压通过VBUS上的信号来协商）。</p>
<blockquote>
<p>QC 3.0 和 PEP 2.0 是对上一代高压快充标准的升级，双方没有再对最高功率做大的升级，而是不约而同的将重点放在了提升效率上。<br>而配合 Type C 的标准，QC 3.0 和 PEP 2.0 分别对电压做了调低，并提出了精确电压管理的概念：电压都会控制在 9V 以下，利用 3A 数据线提高电流，提升降压路线的效率；其次不会是握手检测后，直接 5V 跳 9V 跳 12V，然后固定该电压一路冲到死，而是结合电池温度、实时转换效率、电池电量等因素，以 0.2V（QC）/0.5V(PE) 做精确动态调整，提升整体效率。<br>在精确管理的同时，还有个「恒功率」的概念——如从 8V=3A 调节到 6V=4A，功率不变电压降低，这些都是 QC 3.0 和 PEP 2.0 带来的新特性。当然高通和 MTK 的分歧还是有的，比如高通认为 0.2V 充电更精细，MTK 觉得 0.5V 步进就够了，手机电池就那么大，太精细有什么卵用？</p>
</blockquote>
<p>其他一些移动设备厂家大都按照芯片商的方案实现快充，有的还给快充换个自己的名字。</p>
<p>USB Type C 协议修订了数据线规范，手机数据线从 2A 提到了 3A / 5A 两个级别，USB官方制定了USB PD充电协议，全称 USB Power DeliverySpecification，虽然现在没被普及，不过我个人认为他会成为主流技术。<br><img src="http://ww3.sinaimg.cn/large/8a7924aagw1f7s37uqy59j20gb0bc0tk.jpg" alt=""> </p>
</div></article><article><header><h2><a href="/对某种射频卡的简单安全探究.html">对某种射频卡的简单安全探究</a></h2></header><div class="article-meta clearfix"><time class="left">2016-08-15</time><ul class="tags left"></ul><ul class="tags right"></ul></div><div class="markdown-body"><p>本文仅是对特定射频卡（RFID卡）在技术上的简单探究，请勿以此用作非法用途。</p>
<p>本次研究的RFID卡是Mifare1 S50卡(1K容量)，符合ISO / IEC 14443型标准，其在国内比较常见，是由恩智浦公司（NXP）开发生产，亦有国产的兼容卡。</p>
<h2 id="简介">简介</h2><p>这种卡片的就像一个强制加密的硬盘，密码和数据都存在硬盘里面，厂家出厂会把密码设置默认密码，FFFFFFFFFFFF。<br>其中一共有16个扇区，就像硬盘被分成了16个区，每个区都有独立的两个密码来管理，分别是A密码和B密码。两个密码的权限由控制位决定，一般情况只用A密码便能读写数据。另外有些控制位更改了后就不可逆转。<br>每个扇区又有四个块，就像一个分区面有四个文件一样，如下图。 <img src="http://bbs.eeworld.com.cn/data/attachment/forum/month_1111/20111128_d8c43086bb1d6f115c21WBuWqk0ddCSx.jpg.thumb.jpg" alt=""></p>
<p>扇区0的块0为制造商使用，并不可以更改，其中前4字节为卡片的UID，无需密码可读。（有一种国产M1卡可改UID，在国内叫UID卡，在国外叫 Chinese Magic Card 中国魔术卡）</p>
<h2 id="漏洞">漏洞</h2><p>1.<code>PRNG漏洞</code> ：通过PRNG漏洞攻击，可获得0扇区密匙。</p>
<blockquote>
<p>国外的安全研究人员发现，MIFARE Classic采用的是Crypto-1私有加密算法，其算法的特点就是对称式的密码算法或者说是私钥密码系统。其主要组成部分是伪随机数发生器（PRNG）、48位的线性反馈移位寄存器（LFSR）以及非线性函数。由于算法当中的Filter Function的设计出现缺陷，导致改变线性反馈移位寄存器的后8位数值就有可能得到所对应的Keystream。这个缺陷类似于802.11b WEP算法，不同的明文有极高的可能性被相同的Keystream，使得整个加密算法出现了漏洞。</p>
</blockquote>
<p>2.<code>嵌套认证漏洞</code> ：使用任何一个扇区的已知密匙，获取所有扇区的密匙。</p>
<blockquote>
<p>已知一个扇区的密钥，可以根据漏洞得到其它密钥的32位，然后对其它16位进行穷举攻击，该穷举耗时很短。</p>
</blockquote>
<p>3.<code>通信嗅探</code> ：通过监听卡片和读卡设备的通讯获得密钥。</p>
<blockquote>
<p>M1卡在读卡机和卡片交互数据和密码时，使用了crapto1算法。即便同一张卡，同样的密码，嗅探得到交互数据也是随机的，但是只要获得前面提到的四组随机数组，以及UID，就可以反解出密匙。</p>
</blockquote>
<p>由于水平有限，漏洞的详细原理不叙述，感兴趣请自行搜索相关论文。:D</p>
</div></article><article><header><h2><a href="/WEB控制的WIFI小车（基于树莓派）.html">WEB控制的WIFI小车（基于树莓派）</a></h2></header><div class="article-meta clearfix"><time class="left">2016-06-30</time><ul class="tags left"></ul><ul class="tags right"></ul></div><div class="markdown-body"><p>网上有不少基于树莓派的wifi小车了，不过大都不是用WEB界面来控制的，所以我就想做一个能用WEB控制的小车，用WEB控制是因为通用性比较好，不管什么设备只要有浏览器就能控制它。</p>
<h2 id="硬件部分">硬件部分</h2><p>首先要感谢我敬爱的老师，为我提供各种资源。</p>
<h3 id="所需硬件：">所需硬件：</h3><ul>
<li>树莓派(我用的是树莓派3)</li>
<li>CSI接口的摄像头</li>
<li>PCA9685（PWM扩展板，用于产生PWM波，树莓派也可以产生PWM波，不过不好用)</li>
<li>L298N模块（驱动马达）</li>
<li>电池</li>
<li>DC-DC电源模块（将电池电压升/降至树莓派需要的5V）</li>
<li>小车底盘、马达等</li>
</ul>
<h3 id="硬件连接：">硬件连接：</h3><p>首先是电源分别接<strong>L298N模块</strong>和<strong>DC-DC电源模块</strong>，并将<strong>DC-DC电源模块</strong>的5V输出接树莓派，树莓派的几个I/O口接<strong>L298N模块</strong>，<strong>L298N模块</strong>的输出接马达。<strong>L298N模块</strong>的使用方法很简单，在这里就不多介绍了，不明白的话请自行搜索。由于小车是四轮四驱，差速转向，所以理论上一个<strong>L298N模块</strong>就够了。<br>然后树莓派和<strong>PCA9685</strong>是通过I2C协议和树莓派通信，<strong>PCA9685</strong>的PWM输出接<strong>L298N模块</strong>，关于<strong>PCA9685</strong>的使用可参见我的另一篇<a href="http://blog.cosimahan.com/PCA9685%E4%B8%AD%E6%96%87%E7%AE%80%E8%A6%81%E6%96%87%E6%A1%A3.html">博文</a>。</p>
<h2 id="软件部分">软件部分</h2><p>代码全部开源，已上传GitHub <a href="https://github.com/cosimahan/MyRaspberryPi" target="_blank" rel="external">https://github.com/cosimahan/MyRaspberryPi</a> ，小车的启动程序是<code>web</code>目录下的<code>myweb.py</code>。<br>主要使用树莓派官方推荐的Python语言，和下面几个库：</p>
<ul>
<li><code>flask</code> 轻量级的web框架</li>
<li><code>RPi.GPIO</code> 控制I/O口</li>
<li><code>smbus</code> I2C通信</li>
</ul>
<p>这几个库的用法不再赘述，网络上有相关资料。<br>大概思路是通过flask这一web框架，实现对发来的请求（GET和POST）进行响应（即返回HTML）和动作（即使小车行动）。<br>在网页中使用了JavaScript来实现键盘监听（这样按上下左右就可以让小车动了），JavaScript中的jQuery库来实现请求的发送。<br>视频回传是直接用的mjpg-streamer，实现WEB端视频实时回传。</p>
</div></article><div class="archive-pagination"><div class="paginator"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/2/">&raquo;</a></div></div></div><div class="block-sidebar column one-fourth"><div class="widget archives"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">三月 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">十月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">九月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">八月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">六月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">五月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">四月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">三月 2016</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">二月 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">十二月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">十一月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">九月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">八月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">七月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">四月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">二月 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">十二月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">十月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">九月 2014</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">八月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">七月 2014</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">六月 2014</a><span class="archive-list-count">1</span></li></ul></div><div class="widget text-content"></div><div class="widget text-content"><p>Host by <a href="https://github.com">Github</a>.<p></p>Power by <a href="http://hexo.io">Hexo</a>.<p></p>Theme by <a href="https://github.com/jysperm/hexo-theme-simpleblock">Simpleblock</a>.<p></p>License: &nbsp;<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn">CC BY-NC-SA 3.0</a>.<p></p>&copy; 2018 <a href="http://blog.cosimahan.com">Cosima Han</a>.</p></div></div></div></div><script>window.duoshuoQuery = {short_name: 'zaq12wsde'}</script><script src="//static.duoshuo.com/embed.js"></script></body></html>